<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2"><i class='nav-icon fas fa-user'></i>Usuarios</h1>
    <div class="col-lg-4">
      <form class="d-flex">
        <input class="form-control me-2" type="search" placeholder="Buscar Usuario" aria-label="Search">
        <button class="btn btn-outline-dark" type="submit">Buscar</button>
      </form>
    </div>
  </div>
  <div class="mt-5">
    <div class="row">

      <input type="button" value="Insertar Usuario" class="btn btn-dark" (click)="mostrar_form('ver')"><hr>

      <div id='formulario' *ngIf="mform==true">
        
          <div class="row"> 
            <div class="col-lg-4">
              <input type="text" class="form-control" placeholder="Nombre" [(ngModel)]="obj_usuario.nombre">
              <span style="color: red;" *ngIf="validar_nombre == false" >Insertar Nombre</span>
            </div>
            <div class="col-lg-4">
              <input type="text" class="form-control" placeholder="Apellido" [(ngModel)]="obj_usuario.apellido">
              <span style="color: red;" *ngIf="validar_apellido == false" >Insertar Apellido</span>
            </div>
            <div class="col-lg-4">
              <input type="text" class="form-control" placeholder="Rol" [(ngModel)]="obj_usuario.rol">
              <span style="color: red;" *ngIf="validar_rol == false" >Insertar Rol</span>
            </div>
          </div>
          <br>
          <div class="row">
          <div class="col-lg-4">
            <input type="text" class="form-control" placeholder="username" [(ngModel)]="obj_usuario.username">
            <span style="color: red;" *ngIf="validar_username == false" >Insertar Nombre de Usuario</span>
          </div>
           <div class="col-lg-4">
              <input type="text" class="form-control" placeholder="Contraseña" [(ngModel)]="obj_usuario.clave">
              <span style="color: red;" *ngIf="validar_clave == false" >Insertar Contraseña</span>
            </div>
            <div class="col-lg-4">
              <input type="text" class="form-control" placeholder="Email" [(ngModel)]="obj_usuario.email">
              <span style="color: red;" *ngIf="validar_email == false" >Insertar Email</span>
            </div>
          </div>
          <br>
          <div class="row"> 
            <div class="col-lg-4">
              <input type="button" value="Guardar" class="btn btn-outline-dark" style="width: 100%;" (click)="validar('guardar')" 
              *ngIf="botones_form == false">
              <input type="button" value="Editar" class="btn btn-outline-dark" style="width: 100%;" (click)="validar('editar')"
              *ngIf="botones_form == true">
            </div>
            <div class="col-lg-4">
              <input type="button" value="Cancelar" class="btn btn-outline-danger" style="width: 100%;" (click)="mostrar_form('no ver')">
            </div>
          </div>
          <br>
        </div>
      </div>
      

    

    <div class="row mt-3">
      <div class="col">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Rol</th>
              <th scope="col">Nombre de Usuario</th>
              <th scope="col">Correo Electrónico</th>
              <th scope="col">Acciones</th>
            </tr>
            <tr *ngFor="let item of usuarios">
              <td>{{item.user_id}}</td>
              <td>{{item.nombre}}</td>
              <td>{{item.apellido}}</td>
              <td>{{item.rol}}</td>
              <td>{{item.username}}</td>
              <td>{{item.email}}</td>
              <td>
                <span class="fas fa-edit" style="color: blue; cursor: pointer" title="Editar" (click)
                ="cargar_datos(item, item.user_id)"></span>
                <span class="fas fa-minus-square" style="color: red; cursor: pointer" title="Eliminar" (click)
               ="eliminar(item.user_id)"></span>
              </td>
            </tr>
          </thead>
        </table>
      </div>
    </div>
  </div>

</main>
